[TOC]

# 任务14：车辆检测

## 1.任务目标

- 了解车辆识别的基础知识
- 采用目标检测的思路实施车辆识别
- 动手识别一个车辆识别小程序

## 2.任务描述


- 随着我国汽车数量的快速增加，到目前为止已经突破1.72亿辆，而如此庞大的汽车数量势必带来一系列的道路交通安全问题。同时，随着交通卡口监控数据的不断增长，仅仅采集传统信息，例如车流量、车牌号码，已经不足以满足交通卡口的监控需求。而对车辆信息进行全方位、多维特征的信息采集，才可以快速对交通预警和交通疑似犯罪做出及时响应，才能够更高效地防控和维持社会稳定。

- 目前，汽车交通卡口系统对于车辆的识别和监控，一般采用传统的识别算法，结合通用电子图像处理手段，其对于在白天光照良好、可见度高的情形下能实现较好识别效果，能识别出车辆的车牌以及车型和颜色；但对于复杂环境条件下，如夜间复杂逆光高亮光、车辆与背景相似以及虚影、车辆视角不佳、恶劣雨雪天气等条件下的识别不能达到很好的识别效果，使得汽车卡口的监控识别带来一定影响。

- 目标检测是一种典型的计算机视觉问题，其关注的是图像中特定的物体目标，要求同时获得这一目标的类别信息和位置信息，即目标检测需要从背景中分离出感兴趣的目标，并确定这一目标的描述（类别和位置），因此检测模型的输出是一个列表，列表的每一项使用一个数组给出检出目标的类别和位置（常用矩形检测框的坐标表示）。下图展示了物体检测任务，获取了图像中前景物体的位置坐标和类别信息。




## 3.知识准备


<!-- ### 3.1车牌


- 车牌识别技术的现状
- 从上世纪90年代开始，车牌识别系统随着计算机性能的不断发展也在不断改进和优化，而现有的车牌识别研究成果主要集中在国外，国内的车牌具有汉字字符、颜色丰富、格式多样等复杂情况，加上起步比较晚，落后于国外，不过也有一定成果。
- As等人对图像中的车牌位置进行直方图统计，通过阈值以及模板匹配的方法，对提取的车牌图像来确定其对应的车牌字符并给出识别结果；Le等人提出来了一种基于彩色图像的神经网络车牌识别方法。英国Alphatec公司的图像部研制名为ARGUS的车牌自动识别系统，其可处理黑白或彩色图像，而其车牌识别时约为100毫秒，同时识别时车速可达每小时100里；新加坡有Optasi公司研制的VLPRS、香港有亚洲视觉公司的VECON系统以及加拿大、意大利、德国、日本等发达国家也都有适用本国的车牌识别系统。
- 而国内也有许多研究人取得了优秀的研究成果，这其中包括武汉大学的喻晓等人提出的基于颜色和纹理特征的机动车号牌定位算法；Lee等人提出了基于边缘信息和ANN的车牌提取方法；Shi等人提出的使用基于Radon变换的车牌识别方法；中国科学院自动化所的刘智勇等人的研究中，其车牌定位准确99.4%，切分准确率为92.5%；北京航空航天大学的胡爱明等利用模板匹配技术发了一种应用于收费站的车牌识别系统，其识别正确率能达到97%以上。此外，华南理工大学的骆雪超、刘桂雄等人提出了一种基于车牌特征值的二值化方法；清华大学的冯文毅等利用一种光电混合系统进行车牌识别，系统能够通过硬件来完成车牌识别的全过程；黄志斌等人将基于串行分类器的字符识别应用于车牌识别系统中，对车牌识别系统中的分类器进行了详细的研究。
- 国内的车牌识别系统基本上针对的是某一类车牌在特定场景下的识别，对于多类车牌的分析仍无法实现鲁棒性的实用，而且车牌的颜色随着场景变化和背景等复杂环境因素，对识别结果存在较大影响。


### 3.2车型

- 目前国内关于车型识别研究的主要有基于小波变换的车型识别[11]，秦等人提出的基于人工神经网络的方法[12]，基于SVM的三维车型识别方法[13]等几种方法；而目前国外关于车型识别研究的主要方向则有Collins等[14]开发的经过训练的神经网络来识别运动目标是车辆还是非车辆物体的系统，Tan等人[15]提出的一种有关车辆形态大小(小型汽车、中型轿车、大型卡车等)的检测方法，Ferryman等人[16]提出的建立可变形的三维模板用于识别各种车辆，威斯康辛大学的Bin等人为了达到定位并跟踪多个车辆的目的，通过研究车辆运行中的动态参数，提出了的基于视觉的检测算法。
- 上述国内外方法的优缺点如下：对于简单和低维车型特征的提取有比较明显的效果，对车型识别的研究和实现起到了突出作用，但对高维和复杂环境没有很好的处理和利用，只能从车辆图像从中提取到长、宽、高等简单信息，得到关于体积、大小等初级车型的识别和分类。


### 3.3车标记

- 目前对于车标的识别方面，普遍的做法是先对车标进行定位，然后进行识别。车标定位方面，主要分为直接定位或由粗到精定位两大类，其中主流的方法是由粗到精的定位，其主要利用一些先验信息辅助车标粗定位的实现[17]，如利用车牌与车标的相对位置关系，或利用车辆前视图的对称性等，其又主要包含四类定位技术：一种是先通过车牌的先验信息粗定位后基于对称性的车标定位[18; 19]，一种是基于能量特征的车标定位[20-22]，一种是基于Adaboost的车标定位[23]，还有一种是基于先验知识、模版匹配和边缘检测的由粗到精的车标定位方法[24]。
- 而车标识别包含车标特征提取、分类器构建两部分，识别效果常由采集图像中特征提取的有效性、充分性，分类识别的可靠性等决定，易受复杂背景环境如光照条件变化、车标模糊等的干扰，因而是车辆识别系统中的难点之一，也是本课题的研究重点。目前国内外成熟的车标识别技术主要有如下几种：一种是基于模板匹配的车标识别方法[25; 26]，一种是基于不变矩的车标识别方法[27]，一种是基于边缘直方图的车标识别方法[28]，一种是基于神经网络的车标识别方法[29; 30]。


### 3.3车颜色

- 目前，车身颜色识别作为智能交通的一个重要方向，当前在方向进行研究的成果还比较缺乏，产品上也没有特别出色的表现。而目前人们对车辆颜色的识别主要有两种途径：对车辆整体颜色进行识别，或者提取车辆感兴趣区域的颜色特征进行识别，其所涉及到的一些理论主要有K最邻近法、人工神经网络和支持向量机。
- Michelle在非均匀的RGB颜色空间中将车身颜色细化成15种颜色，采用K近邻算法进行颜色识别。但RGB颜色模型并不是人眼直观的颜色描述方法，仅仅通过欧式距离并不能准确地区分它们在色度上的差异；Wu等人首先通过目标分割获取车辆前景图像，然后进行联通区域分析删除车轮、反光镜等干扰区域得到车辆颜色明显的区域。在分类阶段，采用基于支持向量机的两层分类器成功将颜色分为黑、白、银、红、黄、绿、蓝等7种类型，但是对黑、银、绿3种颜色的分类正确率较低；李等人[20; 31]研究了多种颜色空间，采用识别效果最好的HIS颜色空间和标准色差公式，针对外界噪声和光照等因素的影响，对图像在HSI空间中进行色彩归一化处理。杨等人[32]将车身颜色分为9种，研究彩色图像去舞算法和颜色直方图特征，采用支持向量机算法进行颜色识别，但采用分类器的算法，制作样本比较繁琐，且识别的类别有局限。Fang等人[33]通过在HIS的3个通道中提取车颜色每个像素的微观特征值，定义了7种颜色的阈值范围与相互关系，最后借助BP神经网络将颜色分为7类。 -->



## 4. 任务实施
- 通过python实现上述算法，体会算法，反思改进的思路，然后通过利用深度学习的算法来尝试增强图像。
### 4.1 实施思路

- 根据知识点中提及到的数学公式，将图像增强算法的函数复现，然后利用已有图片，进行图像增强。

### 4.2 实施步骤
#### 步骤1：




#### 步骤2：



#### 步骤3：


#### 步骤4：




#### 步骤5：





#### 步骤6：





## 5.任务拓展
### 5.1 



## 6. 任务实训
### 6.1 实训目的


### 6.2 实训内容


### 6.3 示例代码



